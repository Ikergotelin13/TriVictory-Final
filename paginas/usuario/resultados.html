<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eventos</title>
    <link rel="stylesheet" href="../../assets/css/estilo.css">
</head>

<body>
    <header id="header"></header>
    <main id="contenedor-completo">
        <div class="loader" id="loader"></div>
        <div>
            <div id="container-titulo">
                <h1 id="titulo-eventos">Competiciones</h1>
            </div>
            <div id="subtitulo-eventos">
                <p>Aquí podras ver los resultados de las pruebas ya finalizadas tanto las más recientes como las de hace
                    ya algunos años,podrás filtrar tanto por edad,distancia y el tipo de modalidad para que sea más
                    eficiente la busqueda y ahorres tiempo</p>
            </div>
            <div>
                <div id="busqueda">
                    <h2>Búsqueda avanzada</h2>
                </div>
            </div>
            <div id="container-filtros">
                <ul>
                    <li>
                        <label for="fecha"></label>
                        <select name="fecha" id="fecha" class="listas-filtros-resultados">
                            <option value="2024">2024</option>
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                            <option value="2020">2020</option>
                            <option value="2019">2019</option>
                            <option value="2018">2018</option>
                        </select>
                    </li>
                </ul>
                <ul>
                    <li>
                        <label for="filtro-modalidad"></label>
                        <select name="modalidad" id="filtro-modalidad" class="listas-filtros-resultados">
                            <option value="Todas las modalidades">Todas las modalidades</option>
                            <option value="Triatlon">Triatlón</option>
                            <option value="Duatlon">Duatlón</option>
                            <option value="Triatlon Cross">Triatlón Cross</option>
                            <option value="Duatlon Cross">Duatlón Cross</option>
                            <option value="Acuatlon">Acuatlón</option>
                            <option value="Aquabike">Aquabike</option>
                        </select>
                    </li>
                </ul>
                <ul>
                    <li>
                        <label for="filtro-distancia"></label>
                        <select name="distancia" id="filtro-distancia" class="listas-filtros-resultados">
                            <option value="Todas las distancias">Todas las distancias</option>
                            <option value="Corta">Corta</option>
                            <option value="Sprint">Sprint</option>
                            <option value="Supersprint">Supersprint</option>
                            <option value="Media distancia">Media distancia</option>
                            <option value="Olimpica">Olímpica</option>
                            <option value="Larga distancia">Larga distancia</option>
                        </select>
                    </li>
                </ul>
                <ul>
                    <li>
                        <label for="filtro-edad"></label>
                        <select name="edad" id="filtro-edad" class="listas-filtros-resultados">
                            <option value="Todas las edades">Todas las edades</option>
                            <option value="Menores">Menores</option>
                            <option value="Adultos">Adultos</option>
                        </select>
                    </li>
                </ul>
                <button class="botones-filtros" id="boton-buscar">Buscar</button>
                <button class="botones-filtros" id="boton-reiniciar">Reiniciar filtros</button>
            </div>
        </div>



        <div id="Todo-completos">
            <div id="container-listado-competiciones">
                <div class="Mes">
                    <h4 id="mes-texto">Junio 2024</h4>
                </div>
                <div id="listado-superior">
                    <div class="Modalidad">Modalidad</div>
                    <div class="Competicion">Competición</div>
                    <div class="Categoria">Categoria</div>
                    <div class="Distancia">Distancia</div>
                    <div class="Fecha">Fecha</div>
                </div>
                <div class="mensaje-vacio" style="display: none;">
                    <p>No se encontraron competiciones que coincidan con los filtros aplicados.</p>
                </div>
                <section>
                    <section class="competi">
                        <div class="Modalidad">Triatlon Cross</div>
                        <div class="Competicion"><a href="./competiciones/XII-Desafio-Calima-Posadas.html"
                                class="enlaces-competiciones"> XII
                                Desafio Calima Posadas</a></div>
                        <div class="Categoria">Adultos</div>
                        <div class="Distancia">Sprint</div>
                        <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                    </section>
                </section>
                <section class="competi2">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de la
                            reunion</a></div>
                    <div class="Categoria">Menores</div>
                    <div class="Distancia">Media distancia</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
                <section class="competi">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> II Circuito Urbano Rincón de la
                            Victoria</a></div>
                    <div class="Categoria">Menores</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
                </section>
                <section class="competi2">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
            </div>
        </div>


        <div id="Todo-completos">
            <div id="container-listado-competiciones">
                <div class="Mes">
                    <h4 id="mes-texto">Julio 2024</h4>
                </div>
                <div id="listado-superior">
                    <div class="Modalidad">Modalidad</div>
                    <div class="Competicion">Competición</div>
                    <div class="Categoria">Categoria</div>
                    <div class="Distancia">Distancia</div>
                    <div class="Fecha">Fecha</div>
                </div>
                <div class="mensaje-vacio" style="display: none;">
                    <p>No se encontraron competiciones para este mes.</p>
                </div>
                <section>
                    <section class="competi">
                        <div class="Modalidad">Triatlon Cross</div>
                        <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas
                                de
                                la reunion</a></div>
                        <div class="Categoria">Adultos</div>
                        <div class="Distancia">Sprint</div>
                        <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                    </section>
                </section>
                <section class="competi2">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
                <section class="competi">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
                </section>
                <section class="competi2">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
            </div>
        </div>
        <div id="Todo-completos">
            <div id="container-listado-competiciones">
                <div class="Mes">
                    <h4 id="mes-texto">Agosto 2024</h4>
                </div>
                <div id="mensaje-vacio-junio" style="display: none;">
                    <p>No se encontraron competiciones para junio.</p>
                </div>
                <div id="listado-superior">
                    <div class="Modalidad">Modalidad</div>
                    <div class="Competicion">Competición</div>
                    <div class="Categoria">Categoria</div>
                    <div class="Distancia">Distancia</div>
                    <div class="Fecha">Fecha</div>
                </div>
                <div class="mensaje-vacio" style="display: none;">
                    <p>No se encontraron competiciones para este mes.</p>
                </div>
                <section>
                    <section class="competi">
                        <div class="Modalidad">Triatlon Cross</div>
                        <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas
                                de
                                la reunion</a></div>
                        <div class="Categoria">Adultos</div>
                        <div class="Distancia">Sprint</div>
                        <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                    </section>
                </section>
                <section class="competi2">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
                <section class="competi">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
                </section>
                <section class="competi2">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
            </div>
        </div>


        <div id="Todo-completos">
            <div id="container-listado-competiciones">
                <div class="Mes">
                    <h4 id="mes-texto">Septiembre 2024</h4>
                </div>
                <div id="listado-superior">
                    <div class="Modalidad">Modalidad</div>
                    <div class="Competicion">Competición</div>
                    <div class="Categoria">Categoria</div>
                    <div class="Distancia">Distancia</div>
                    <div class="Fecha">Fecha</div>
                </div>
                <div class="mensaje-vacio" style="display: none;">
                    <p>No se encontraron competiciones para este mes.</p>
                </div>
                <section>
                    <section class="competi">
                        <div class="Modalidad">Triatlon Cross</div>
                        <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas
                                de
                                la reunion</a></div>
                        <div class="Categoria">Adultos</div>
                        <div class="Distancia">Sprint</div>
                        <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                    </section>
                </section>
                <section class="competi2">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
                <section class="competi">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
                </section>
                <section class="competi2">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
            </div>
        </div>

        <div id="Todo-completos">
            <div id="container-listado-competiciones">
                <div class="Mes">
                    <h4 id="mes-texto">Octubre 2024</h4>
                </div>
                <div id="listado-superior">
                    <div class="Modalidad">Modalidad</div>
                    <div class="Competicion">Competición</div>
                    <div class="Categoria">Categoria</div>
                    <div class="Distancia">Distancia</div>
                    <div class="Fecha">Fecha</div>
                </div>
                <div class="mensaje-vacio" style="display: none;">
                    <p>No se encontraron competiciones para este mes.</p>
                </div>
                <section>
                    <section class="competi">
                        <div class="Modalidad">Triatlon Cross</div>
                        <div class="Competicion"><a href="./info-inscripciones.html" class="enlaces-competiciones">
                                XXVI
                                Triatlon Cross Minas de la reunion</a></div>
                        <div class="Categoria">Adultos</div>
                        <div class="Distancia">Sprint</div>
                        <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                    </section>
                </section>
                <section class="competi2">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
                <section class="competi">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
                </section>
                <section class="competi2">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
            </div>
        </div>

        <div id="Todo-completos">
            <div id="container-listado-competiciones">
                <div class="Mes">
                    <h4 id="mes-texto">Noviembre 2024</h4>
                </div>
                <div id="listado-superior">
                    <div class="Modalidad">Modalidad</div>
                    <div class="Competicion">Competición</div>
                    <div class="Categoria">Categoria</div>
                    <div class="Distancia">Distancia</div>
                    <div class="Fecha">Fecha</div>
                </div>
                <div class="mensaje-vacio" style="display: none;">
                    <p>No se encontraron competiciones para este mes.</p>
                </div>
                <section>
                    <section class="competi">
                        <div class="Modalidad">Triatlon Cross</div>
                        <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas
                                de
                                la reunion</a></div>
                        <div class="Categoria">Adultos</div>
                        <div class="Distancia">Sprint</div>
                        <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                    </section>
                </section>
                <section class="competi2">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
                <section class="competi">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
                </section>
                <section class="competi2">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
            </div>
        </div>
        <div id="Todo-completos">
            <div id="container-listado-competiciones">
                <div class="Mes">
                    <h4 id="mes-texto">Diciembre 2024</h4>
                </div>
                <div id="listado-superior">
                    <div class="Modalidad">Modalidad</div>
                    <div class="Competicion">Competición</div>
                    <div class="Categoria">Categoria</div>
                    <div class="Distancia">Distancia</div>
                    <div class="Fecha">Fecha</div>
                </div>
                <div class="mensaje-vacio" style="display: none;">
                    <p>No se encontraron competiciones para este mes.</p>
                </div>
                <section>
                    <section class="competi">
                        <div class="Modalidad">Triatlon Cross</div>
                        <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas
                                de
                                la reunion</a></div>
                        <div class="Categoria">Adultos</div>
                        <div class="Distancia">Sprint</div>
                        <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                    </section>
                </section>
                <section class="competi2">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
                <section class="competi">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
                </section>
                <section class="competi2">
                    <div class="Modalidad">Triatlon Cross</div>
                    <div class="Competicion"><a href="" class="enlaces-competiciones"> XXVI Triatlon Cross Minas de
                            la
                            reunion</a></div>
                    <div class="Categoria">Adultos</div>
                    <div class="Distancia">Sprint</div>
                    <div class="Fecha"> Sabado 1 de Junio de 2024</div>
                </section>
            </div>
        </div>
        <footer>
            <div id="footer"></div>
        </footer>



    </main>

    <script>

        window.addEventListener('DOMContentLoaded', (event) => {
            const headerContainer = document.getElementById('header');
            const footerContainer = document.getElementById('footer');

            // Obtener la ruta relativa al directorio actual
            const currentPagePath = window.location.pathname;
            const currentPageDirectory = currentPagePath.substring(0, currentPagePath.lastIndexOf('/'));

            // Cargar el encabezado
            fetch(currentPageDirectory + '/header-usuario.html')
                .then(response => response.text())
                .then(data => {
                    headerContainer.innerHTML = data;
                });

            // Cargar el pie de página
            fetch(currentPageDirectory + '/../footer.html')
                .then(response => response.text())
                .then(data => {
                    footerContainer.innerHTML = data;
                });
            // Mostrar loader al cargar la página
            const loader = document.getElementById("loader");
            loader.classList.add("hidden");
        });

        document.addEventListener("DOMContentLoaded", function () {
        });



        window.addEventListener('DOMContentLoaded', (event) => {
            const headerContainer = document.getElementById('header');
            const footerContainer = document.getElementById('footer');

            // Obtener la ruta relativa al directorio actual
            const currentPagePath = window.location.pathname;
            const currentPageDirectory = currentPagePath.substring(0, currentPagePath.lastIndexOf('/'));

            // Cargar el encabezado
            fetch(currentPageDirectory + '/header-usuario.html')
                .then(response => response.text())
                .then(data => {
                    headerContainer.innerHTML = data;
                });

            // Cargar el pie de página
            fetch(currentPageDirectory + '/../footer.html')
                .then(response => response.text())
                .then(data => {
                    footerContainer.innerHTML = data;
                });
        });




        document.addEventListener("DOMContentLoaded", function () {
            // Función para filtrar las competiciones
            function filtrarCompeticiones() {
                var modalidadSeleccionada = document.getElementById("filtro-modalidad").value;
                var distanciaSeleccionada = document.getElementById("filtro-distancia").value;
                var edadSeleccionada = document.getElementById("filtro-edad").value;

                var competiciones = document.querySelectorAll(".competi, .competi2");

                var algunaCompetenciaMostrada = false; // Variable para rastrear si se muestra alguna competición

                competiciones.forEach(function (competicion) {
                    var mostrar = true;

                    if (modalidadSeleccionada !== "Todas las modalidades" && competicion.querySelector(".Modalidad").innerText !== modalidadSeleccionada) {
                        mostrar = false;
                    }

                    if (distanciaSeleccionada !== "Todas las distancias" && competicion.querySelector(".Distancia").innerText !== distanciaSeleccionada) {
                        mostrar = false;
                    }

                    if (edadSeleccionada !== "Todas las edades" && competicion.querySelector(".Categoria").innerText !== edadSeleccionada) {
                        mostrar = false;
                    }

                    if (mostrar) {
                        competicion.style.display = "flex";
                        algunaCompetenciaMostrada = true; // Si al menos una competición coincide, se establece como verdadero
                    } else {
                        competicion.style.display = "none";
                    }
                });

                // Mostrar el mensaje si no se muestran competiciones
                var mensajesVacios = document.querySelectorAll(".mensaje-vacio");
                mensajesVacios.forEach(function (mensaje) {
                    mensaje.style.display = algunaCompetenciaMostrada ? "none" : "block";
                    mensaje.style.marginLeft = algunaCompetenciaMostrada ? "0" : "2rem";
                });

                // Mostrar mensaje en los meses vacíos
                mostrarMensajeMesesVacios();
            }

            // Función para mostrar el mensaje en los meses vacíos
            function mostrarMensajeMesesVacios() {
                // Obtener todos los div con la clase "Mes"
                var meses = document.querySelectorAll(".Mes");

                meses.forEach(function (mes) {
                    // Verificar si los div hermanos están vacíos
                    var competicionesMes = mes.nextElementSibling.querySelectorAll(".competi, .competi2");
                    var algunCompeticionMostrada = Array.from(competicionesMes).some(function (competicion) {
                        return competicion.style.display !== "none";
                    });

                    // Mostrar el mensaje si no hay competiciones mostradas
                    var mensajeVacioMes = mes.nextElementSibling.querySelector(".mensaje-vacio-" + mes.id.split("-")[0].toLowerCase());
                    if (mensajeVacioMes) {
                        mensajeVacioMes.style.display = algunCompeticionMostrada ? "none" : "block";
                        mensajeVacioMes.style.marginLeft = "2rem"; // Aplicar el margen izquierdo
                    }
                });
            }

            // Asociar la función de filtrado al evento 'click' del botón de búsqueda
            document.getElementById("boton-buscar").addEventListener("click", filtrarCompeticiones);

            // Asociar la función de reinicio al evento 'click' del botón de reinicio
            document.getElementById("boton-reiniciar").addEventListener("click", function () {
                document.getElementById("filtro-modalidad").value = "Todas las modalidades";
                document.getElementById("filtro-distancia").value = "Todas las distancias";
                document.getElementById("filtro-edad").value = "Todas las edades";

                // Llamar a la función de filtrado después de restablecer los valores
                filtrarCompeticiones();
            });

            // Llamar a la función de filtrado una vez cuando se carga la página por primera vez
            filtrarCompeticiones();
        });






    </script>
</body>

</html>